<!DOCTYPE html>

<html lang="en">
<head>
	<script>
	;(function(scope) {
  var ael = 'addEventListener', rel = 'removeEventListener';

  // Date.now()
  if(typeof Date.now !== 'function') {
    Date.now = function date_now() {
      return +new Date();
    };
  }

  // performance.now()
  var performance = window.performance;
  if(typeof performance === 'undefined') window.performance = performance = {};
  if(typeof performance.now !== 'function') {
    var nowOffset = Date.now();
    if(performance.timing && performance.timing.navigationStart) {
      nowOffset = performance.timing.navigationStart;
    }
    performance.now = function perf_now() {
      return Date.now() - nowOffset;
    };
  }

  // Function.bind()
  if(typeof Function.prototype.bind !== 'function') (function() {
    Function.prototype.bind = function bind(thisArg) {
      var target = this, i = arguments.length - 1, boundArgs = [];
      if(i > 0) {
        boundArgs.length = i;
        while (i--) boundArgs[i] = arguments[i + 1];
      }
      if(typeof target !== 'function') throw new TypeError();
      function bound() {
        var i = arguments.length, args = new Array(i);
        while (i--) args[i] = arguments[i];
        args = boundArgs.concat(args);
        return target.apply(this instanceof bound ? this : thisArg, args);
      }
      bound.prototype = (function F(proto) {
        if(proto) F.prototype = proto;
        if(!(this instanceof F)) return new F();
      })(target.prototype);
      return bound;
    };
  })();

  // Object.create()
  // Source: --https--developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create
  if(typeof Object.create !== 'function') (function() {
    Object.create = function(proto, propertiesObject) {
      if(typeof proto !== 'object' && typeof proto !== 'function') {
        throw new TypeError('Object prototype may only be an Object: ' + proto);
      } else if(proto === null) {
        throw new Error('This browser\'s implementation of Object.create is a shim and doesn\'t support "null" as the first argument.');
      }
      if(typeof propertiesObject != 'undefined') {
        throw new Error('This browser\'s implementation of Object.create is a shim and doesn\'t support a second argument.');
      }
      function F() {}
      F.prototype = proto;
      return new F();
    };
  })();

  // Object.assign()
  // Source: --https--developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
  if(typeof Object.assign !== 'function') (function() {
    // Must be writable: true, enumerable: false, configurable: true
    Object.defineProperty(Object, 'assign', {
      value: function assign(target, varArgs) { // .length of function is 2
        if(target === null) throw new TypeError('Cannot convert undefined or null to object');
        var to = Object(target);
        for(var index = 1; index < arguments.length; index++) {
          var nextSource = arguments[index];
          if(nextSource !== null) { // Skip over if undefined or null
            for(var nextKey in nextSource) {
              // Avoid bugs when hasOwnProperty is shadowed
              if(Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                to[nextKey] = nextSource[nextKey];
              }
            }
          }
        }
        return to;
      },
      writable: true,
      configurable: true
    });
  })();

  // Object.keys()
  // Source: --https--developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys
  if(typeof Object.keys !== 'function') (function() {
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    var hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString');
    var dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];
    var dontEnumsLength = dontEnums.length;
    Object.keys = function(obj) {
      if(typeof obj !== 'function' && (typeof obj !== 'object' || obj === null)) throw new TypeError('Object.keys called on non-object');
      var keyList = [], prop, i;
      for(prop in obj) {
        if(hasOwnProperty.call(obj, prop)) keyList.push(prop);
      }
      if(hasDontEnumBug) {
        for(i = 0; i < dontEnumsLength; i++) {
          if(hasOwnProperty.call(obj, dontEnums[i])) keyList.push(dontEnums[i]);
        }
      }
      return keyList;
    };
  })();

  // Check support for passive event listeners
  (function() {
    var etp = (typeof EventTarget === 'undefined' ? Node : EventTarget).prototype, orgAel = etp[ael], orgRel = etp[rel], supportsPassive = false;
    try {
      var o = Object.defineProperty({}, 'passive', { get: function() { supportsPassive = true; }});
      scope[ael]('test', null, o);
      scope[rel]('test', null, o);
    } catch(err) { console.error('Polyfill error:', err); }
    if(!supportsPassive) {
      etp[ael] = function(type, handler, o) {
        if(typeof o === 'object') o = o.capture; // object -> bool
        return orgAel.call(this, type, handler, o);
      };
      etp[rel] = function(type, handler, o) {
        if(typeof o === 'object') o = o.capture; // object -> bool
        return orgRel.call(this, type, handler, o);
      };
    }
  })();

  // Redefining escape and create encodeURI polyfill
  if(typeof scope.encodeURI !== 'function') (function() {
    var orgEscape = scope.escape;
    scope.encodeURI = scope.escape = function(input) {
      //<debug>
      console.warn('escape is deprecated, please update to encodeURI');
      //</debug>
      return orgEscape(input);
    };
  })();

  // According to
  // --https--developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map
  if(typeof Array.prototype.map !== 'function')
    Array.prototype.map = function (thunk,thisArg ) {
      thisArg  = thisArg || this;
      var result = Array(thisArg.length);
      for (var i = 0; i < thisArg.length; i++)
        result[i] = thunk(thisArg[i],i,thisArg);
      return result;
    }

  /* "This crazy polyfill solves issues on Android where isFinite does not."
   *
   * JT@2021-03-11: The above comment is truncated.  The need for this
   * polyfill is not yet well understood.  The original commit also
   * had a _second_ polyfill for Number.isFinite(), but there are _no_
   * uses for that whatsoever. So we removed that polyfill. */
  if (typeof window.isFinite !== 'function') {
    window.isFinite = function isFinite(value) {
      // 1. If Type(number) is not Number, return false.
      if (typeof value !== 'number') {
        return false;
      }
      // 2. If number is NaN, +∞, or −∞, return false.
      if (value !== value || value === Infinity || value === -Infinity) {
        return false;
      }
      // 3. Otherwise, return true.
      return true;
    };
  }
}(this));

// tiny_promise by sven. JT@2021-03-11: newlineophobia?
(function(scope){var queue=[];function async(callback){queue.push(callback);if(queue.length===1)async.async()}async.run=function(){while(queue.length){queue[0]();queue.shift()}};async.async=function(){setTimeout(async.run)};function P(executor){this.state=P.State.PENDING;this.value=undefined;this.deferred=[];var promise=this;try{executor(function(x){promise.resolve(x)},function(r){promise.reject(r)})}catch(e){promise.reject(e)}}P.State={RESOLVED:0,REJECTED:1,PENDING:2};P.reject=function(r){return new P(function(resolve,reject){reject(r)})};P.resolve=function(x){return new P(function(resolve,reject){resolve(x)})};P.all=function all(iterable){return new P(function(resolve,reject){var count=0,result=[];if(iterable.length===0)resolve(result);function resolver(i){return function(x){result[i]=x;count+=1;if(count===iterable.length)resolve(result)}}for(var i=0;i<iterable.length;i+=1){P.resolve(iterable[i]).then(resolver(i),reject)}})};P.race=function race(iterable){return new P(function(resolve,reject){for(var i=0;i<iterable.length;i+=1){P.resolve(iterable[i]).then(resolve,reject)}})};P.prototype.resolve=function resolve(x){var promise=this;if(promise.state===P.State.PENDING){if(x===promise)throw new TypeError;var called=false;try{var then=x&&x["then"];if(x!=null&&typeof x==="object"&&typeof then==="function"){then.call(x,function(x){if(!called)promise.resolve(x);called=true},function(r){if(!called)promise.reject(r);called=true});return}}catch(e){if(!called)promise.reject(e);return}promise.state=P.State.RESOLVED;promise.value=x;promise.notify()}};P.prototype.reject=function reject(reason){var promise=this;if(promise.state===P.State.PENDING){if(reason===promise)throw new TypeError;promise.state=P.State.REJECTED;promise.value=reason;promise.notify()}};P.prototype.notify=function notify(){var promise=this;async(function(){if(promise.state!=P.State.PENDING){while(promise.deferred.length){var deferred=promise.deferred.shift(),onResolved=deferred[0],onRejected=deferred[1],resolve=deferred[2],reject=deferred[3];try{if(promise.state===P.State.RESOLVED){if(typeof onResolved==="function")resolve(onResolved.call(undefined,promise.value));else resolve(promise.value)}else if(promise.state===P.State.REJECTED){if(typeof onRejected==="function")resolve(onRejected.call(undefined,promise.value));else reject(promise.value)}}catch(e){reject(e)}}}})};P.prototype.catch=function(onRejected){return this.then(undefined,onRejected)};P.prototype.then=function then(onResolved,onRejected){var promise=this;return new P(function(resolve,reject){promise.deferred.push([onResolved,onRejected,resolve,reject]);promise.notify()})};if(scope.Promise===undefined)scope.Promise=P})(this);
;
	</script>
<!--	  <script defer src="&#45;&#45;https&#45;&#45;frvr.com/gdpr/frvrgdprclient.js"></script>-->
<!--  <script defer src="&#45;&#45;https&#45;&#45;frvr.com/grac/frvrgracclient.js"></script>-->

	<script>
		window.__FRVR = window.__FRVR || {};
	 window.__FRVR.startTime = Date.now();
		window.__FRVR.gameIsLoaded = false;
		window.LEGACY_COORD_SYSTEM = true;

	</script>
	<meta charset="UTF-8"/>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>

	<!--
    /**
    * @author Chris Benjaminsen http://chrisbenjaminsen.com/ @benjaminsen
    */
    /** @license
    Stack Three FRVR 1.3.10
    More info at http://frvr.com

    Copyright (c) 2013+ FRVR Limited

    All Rights Reserved!
    FRVR is a registered trademark of FRVR Limited
    */
    /**
    Well hello there!

    I see you are interested in the details of how this game was made!
    It's written using a custom HTML5 engine built around PixiJS.

    While I can't tell you more on the how, there is much more on the why to be find at 
    http://blog.chrisbenjaminsen.com where I write frequent status updates on the games I build
    under the FRVR brand - - including a 100% honest track record of money earned and spend.

    Hack on!
    Chris Benjaminsen
    chrisbenjaminsen.com

    - - - - - - - - - - - - - -

    Stack Three FRVR would not be possible without the following open source projects:

    pixi.js - v2.2.3
    Copyright (c) 2012-2014, Mat Groves
    http://goodboydigital.com/
    pixi.js is licensed under the MIT License.
    http://www.opensource.org/licenses/mit-license.php
    Mat Groves http://matgroves.com/ @Doormat23
    */
    -->

		<link rel="manifest" href="./manifest.json">

	<link rel="canonical" href="--https--stackthree.frvr.com/" />

    	<link rel="alternate" hreflang="ru" href="--https--stackthree.frvr.com/ru/" />

		<link rel="icon" type="image/png" href="./v/1616566216083/i/web/favicon.png" />

	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-title" content="Stack Three FRVR">
<meta name="theme-color" content="#202020">
<meta name="HandheldFriendly" content="true" />
<meta name="format-detection" content="telephone=no">
<meta name="msapplication-tap-highlight" content="no">
<meta name="google" content="notranslate" />

<link rel="apple-touch-icon" sizes="60x60" href="./v/1616566216083/i/web/icon60x60.png"/>
<link rel="apple-touch-icon" sizes="76x76" href="./v/1616566216083/i/web/icon76x76.png"/>
<link rel="apple-touch-icon" sizes="120x120" href="./v/1616566216083/i/web/icon120x120.png"/>
<link rel="apple-touch-icon" sizes="196x196" href="./v/1616566216083/i/web/icon196x196.png"/>
<link rel="apple-touch-icon" sizes="256x256" href="./v/1616566216083/i/web/icon256x256.png"/>
<link rel="apple-touch-icon" sizes="1024x1024" href="./v/1616566216083/i/web/icon1024x1024.png"/>

<link rel="me" href="--https--twitter.com/FRVRGames">

<meta name="facebook_label" content="Play Stack Three FRVR - Match Three Puzzle Fun">

<meta property="og:title" content="Play Stack Three FRVR" />
<meta property="og:description" content="Match and stack the tiles to beat your best score" />
<meta property="og:site_name" content="Stack Three FRVR"/>
<meta property="og:url" content="--https--stackthree.frvr.com/" />
<meta property="og:type" content="game" />
<meta property="og:locale" content="en" />
<meta property="og:image" content="--https--stackthree.frvr.com/v/1616566216083/i/web/facebook01.png" />
<meta property="fb:app_id" content="1584700764983406" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@FRVRGames" />
<meta name="twitter:creator" content="@Benjaminsen" />
<meta name="twitter:title" content="Play Stack Three FRVR - Match Three Puzzle Fun" />
<meta name="twitter:image" content="--https--stackthree.frvr.com/v/1616566216083/i/web/twitter01.png" />
<meta name="twitter:description" content="Match and stack the tiles to beat your best score" />

<meta name="twitter:app:name:iphone" content="Stack Three FRVR" />
<meta name="twitter:app:id:iphone" content="1355649105" />
<meta name="twitter:app:name:ipad" content="Stack Three FRVR" />
<meta name="twitter:app:id:ipad" content="1355649105" />

<meta name="twitter:app:name:googleplay" content="Stack Three FRVR" />
<meta name="twitter:app:id:googleplay" content="com.frvr.stackthree" />

<meta name="description" content="Match and stack the tiles to beat your best score">
<meta name="keywords" content="stack, three, 3, puzzle, slidem, drop, drag, release, match">

	<title>Play Stack Three FRVR - Match Three Puzzle Fun</title>

	<style>

body {
    background:#c8c8c8;
    overflow:hidden;
    position:fixed;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border:0px;padding:0px;margin:0px;
    width:100%;
    height:100%;
    padding-top: constant(safe-area-inset-top);
    overscroll-behavior: none;
}

preloader{
    display:block;
    width:100%;
    height:100%;
    background: #FEFEFE;
    position:fixed;
    z-index:5;
}
preloader.dark {
    background: #1C1C1C;
}

preloader canvas, preloader img{
    position: fixed;
}

preloader loadbar{
    display:none;
    position:fixed;
    border:1px solid #A4A4A4;
    border-radius: 3px;
    overflow: hidden;
}

preloader loadbar div{
    display:block;
    width:0%;
    height:100%;
    background-color:#02BDFF;
}

#gameCanvas{
    position: fixed;
    top:0px;
    left:0px;
    width:0px;
    height:0px;
    background-color:#000000
}

#overlay{
    position:absolute;
    z-index:3;
    left:50%;
    margin-left:-70px;
    visibility:hidden;
    bottom:3px;
    overflow:hidden;
    text-align: center;
}

#overlay div{
    float:left;
}

#overlay.cn {
    margin-left: -190px;
}

/* Google+ share button */
#overlay.cn div#___plusone_0 {
    width: 68px !important;
}

#overlay.cn div#___plusone_0 iframe {
    position: relative !important;
    top: -4px !important;
}

/* Sina Weibo share button */
#overlay wb\:share-button iframe {
    width: 105px !important;
}

/* QZone share button */
#overlay iframe[version="1.0"] {
    position: relative !important;
    top: -2px;
}

@-ms-viewport{width:100%}

content{
    background-color:#ffffff;
    display: block;
    padding:20px;
    height:100%;
    overflow:scroll;
}

content metadata{
    float:right;
    margin-left:10px;
    text-align:center;
}

h1{
    margin:0px;
    font-weight:100;
    font-size:50px;
}
a{
    line-height:2em;
}
h3{
    margin-bottom:0px;
}

#pwa_prompt {
    height: 100%;
    width: 100%;
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    margin: 0 auto;
    background-color: rgba(0,0,0,0.85);
    text-align: center;
    color: white;
}

#pwa_prompt.hidden {
    display: none;
}

#pwa_prompt .close {
    display: block;
    position: absolute;
    top: 5px;
    right: 2%;
    cursor: pointer;
    height: 48px;
    width: 48px;
    background-color: white;
    text-align: center;
    line-height: 48px;
    color: black;
    font-size: 32px;
    border-radius: 50%;

}

#pwa_prompt img {
    display: block;
    max-width: 60%;
    max-height: 33%;
    margin: 20px auto;
    margin-top: 30px;
}

#pwa_prompt span.copy {
    display: block;
    font-weight: bold;
    font-size: 32px;
}

#pwa_prompt span.copy.arrow {
    font-size: 64px;
}

@media screen and (max-height: 400px) {
    #pwa_prompt img {
        margin-bottom: 10px;
    }
    #pwa_prompt span.copy {
        font-size: 24px;
    }
    #pwa_prompt span.copy.arrow {
        font-size: 48px;
    }
}

@keyframes w{0%{transform:rotate(0deg);}20%{transform:rotate(-3deg) scale(1.4) translate(0px,-5px);}50%{transform:rotate(3deg) scale(1.4) translate(0px,-5px);}80%{transform:rotate(-3deg) scale(1.4) translate(0px,-5px);}100%{transform:rotate(0deg);}}
.w {animation:w 1.5s 1;}

</style>

	</head>

	<body>

    <div id="logob2box" style="position: fixed;top: 0;"></div>


	<script>

        var d = document.createElement("div");
        // d.width = i(), d.height = i();
        d.style.cssText="position: fixed;text-align:center"
        var logoimg=document.createElement("img")
        logoimg.src="../logo2.png"
        logoimg.style.cssText="position:unset"
        d.append(logoimg)
        document.querySelector("#logob2box").append(d)
        var tlist=[
            "生成一个陪你玩的机器人...",
            "为机器人加入人工智能...",
            "检测他智商...",
            "建立虚拟游戏房间...",
            "设定房间温度适合游戏...",
            "制造人工太阳...",
            "完成，正在载入资源...",
        ]
        var tmpi=0;
        var lpsi=setInterval(function (){
            console.log("123---------------------")
            if(tmpi<tlist.length){
            }else{
                clearInterval(lpsi)
                return
            }
            var tmp=document.createElement("div")
            tmp.innerHTML=tlist[tmpi]
            tmp.style.cssText="color:#ffffff;font-size:0.8rem;background-color:#333333;"

            d.append(tmp)
            tmpi++;
        },1000)
        sleep(3000)

	if (window.location.href.indexOf('clearAllData') != -1) {

		console.log("Querystring flag 'clearAllData' detected. Clearing all localStorage and cookies.");

		(function () {
			var cookies = document.cookie.split("; ");
			for (var c = 0; c < cookies.length; c++) {
				var d = window.location.hostname.split(".");
				while (d.length > 0) {
					var cookieBase = encodeURIComponent(cookies[c].split(";")[0].split("=")[0]) + '=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain=' + d.join('.') + ' ;path=';
					var p = location.pathname.split('/');
					document.cookie = cookieBase + '/';
					while (p.length > 0) {
						document.cookie = cookieBase + p.join('/');
						p.pop();
					};
					d.shift();
				}
			}
		})();

		localStorage.clear();
	}

	</script>

	<!-- TODO debugcode, move me to provider -->
	<div id="debug" style="position:absolute; color:red; left:40px; z-index: 9999999"></div>

    <script>
			window.__antialias = false
    </script>

		<script>
		var version = "1.3.10"
		var gameid = "stackthree"

		var gaPath = '/stackthree/' + version + '/';

		var initTime = 1*new Date();

			window.vpath = "./v/1616566216083/";

			window.spath = "./v/1616566216083/external.js";

			window.extsize = 463133;

		//In seperate code block to load first & not trigger when JS is disabled
		var preloader = document.createElement('preloader');document.body.appendChild(preloader);

		;//ie9 polyfill
if(!(window.console && console.log)) {
  var fn = function(){};
  console={log:fn,debug:fn,info:fn,warn:fn,error:fn};
}
;
		;Host = {
  Localize:{

      languages:
      ["ru"]

  },dataUrlsSupported:(function(){
    var c = document.createElement("canvas");



    return c.toDataURL&&(c.toDataURL("image/png").indexOf("data:image/png") == 0);
  })()
};
// Local Variables:
// mode: js
// End:
;
		;window._jsonData={};
;
window._jsonData['track-facebook_events'] = {"blacklist":"iap_request_payment,iap_request_payment_success","events":{"default":"name,{_merge=state,_merge=_params}","ftue":"'COMPLETED_TUTORIAL',{SUCCESS=completed,STEP_NUMBER=step_number,STEP_NAME=step_name,STEP_NUMBER=ftue_step_number,STEP_NAME=ftue_step_name}","ad_rewarded_finish":"'AD_IMPRESSION',{AD_TYPE='rewarded_video',SUCCESS=value}","ad_mandatory_finish":"'AD_IMPRESSION',{AD_TYPE='interstitial',SUCCESS=value}","coin_spent":"'SPENT_CREDITS',{AMOUNT=amount,DESCRIPTION='coins',CONTENT=product}","gem_spent":"'SPENT_CREDITS',{AMOUNT=amount,DESCRIPTION='gems',CONTENT=product}","gem_get":"'UNLOCKED_ACHIEVEMENT',{QUANTITY=value,DESCRIPTION='gem_get'}","popup_claim_reward":"'UNLOCKED_ACHIEVEMENT',{DESCRIPTION='claim_reward'}","levelup_newlevel":"'ACHIEVED_LEVEL',{LEVEL=level}","iap_request_payment":"'INITIATED_CHECKOUT',{CONTENT_ID=productId,NUM_ITEMS='1'}","iap_request_payment_success":"'PURCHASED',{CONTENT_ID=productId,NUM_ITEMS='1'}","iap_request_payment_failed":"'CHECKOUT_CANCELED',{CONTENT_ID=productId,NUM_ITEMS='1'}","rate":"'RATED',{MAX_RATING_VALUE=max_rating_value,RATE=rate_value}"}};
window._jsonData['track-frvr'] = {"state":"{app_version,app_build,cohort,channel,games_played,play_session_id,play_session_count,days_elapsed,facebook_player_id,facebook_context_type,facebook_entrypoint,utm_source,utm_medium,utm_campaign,utm_term,utm_content,facebook_referral_player_id,remote_user_id,non_interaction,device_width,device_height,global_user_id,web_url,xstrack_version}","events":{"default":"name,value,{_merge=state,_merge=_params}"}};
window._jsonData['track-ga'] = {"gaIds":{"all":"UA-54081731-1"},"state":"{appId=app_id,appName=app_name,appVersion=app_version,metric1=play_session_count,dimension2=cohort,dimension4=play_session_id,dimension3=device_id,metric2=days_elapsed,metric3=days_played,dimension5=channel,dimension6=entry_point,dimension7=utm_string,dimension8=screen,dimension9=facebook_context,metric4=currency_amount,metric5=missions_completed,metric6=progression,metric7=games_played}","events":{"default":"name,,value,_params","options_change":"name,option_name:option_value","game_end":"name,level_id,game_duration","game_play_start,game_continue_used":"name,level_id","keepalive,new_user,mission_success":"name","coin_spent,tutorial_step_completed,session_start":"name,,value","game_loaded":"name,,loading_time","social_engage,engage":"'engage',engage_id:button_placement,1","play_with_friend":"name,,1","share,invite":"name,button_placement,1","cross_promotion_show":"name,button_placement,1","cross_promotion_click,cross_promotion_success,cross_promotion_failure":"name,target_game,1","ad_mandatory_request":"name,,value,{_merge=_params,dimension13=provider}","ad_mandatory_response":"name,ad_response,value,{_merge=_params,dimension13=provider}","ad_mandatory_show":"name,,value,{_merge=_params,dimension13=provider}","ad_mandatory_finish":"name,ad_result,value,{_merge=_params,dimension13=provider}","ad_mandatory_blocked":"name,,value,{_merge=_params,dimension13=provider}","ad_mandatory_pass":"name,,value,{_merge=_params,dimension13=provider}","ad_mandatory_throttled":"name,throttle_type,value,{_merge=_params,dimension13=provider}","ad_rewarded_request":"name,,value,{_merge=_params,dimension13=provider}","ad_rewarded_response":"name,ad_response,value,{_merge=_params,dimension13=provider}","ad_rewarded_show":"name,,value,{_merge=_params,dimension13=provider}","ad_rewarded_finish":"name,ad_result,value,{_merge=_params,dimension13=provider}","ad_rewarded_blocked":"name,,value,{_merge=_params,dimension13=provider}","ad_rewarded_pass":"name,,value,{_merge=_params,dimension13=provider}","ad_rewarded_throttled":"name,throttle_type,value,{_merge=_params,dimension13=provider}","chatbot_noshow,chatbot_show,chatbot_success,chatbot_issubscribed,chatbot_useraborted":"name,,","chatbot_error":"name,reason,"}};
window._jsonData['track-gma'] = {"url":"--https--cdn.frvr.com/utils/gameanalytics310.js","currencies":"coin","itemtypes":"unknown","channelMapping":{"web_edge,web_firefox,web_opera,web_safari,web_chrome,":"web","web_safari_ios,web_chrome_ios":"web_ios","vkru,okru,twitch,hago":"other"},"customDimensions01":"web,web_ios,web_samsung,web_samsung_m4s,web_silk,chromeos,android,ios,rcs,samsung,facebook_instant,facebook_canvasweb,facebook_canvas,bixby,imessage,spil,kongregate,kik,twitter,other","events":{"new_user":"'addDesignEvent',name","game_loaded":"'addProgressionEvent','Complete',name,,,loading_time","keepalive":"'addDesignEvent',name","game_play_start":"'addProgressionEvent','Start',level_id","game_continue_used":"'addProgressionEvent','Start',level_id","game_end":"'addProgressionEvent','Complete',level_id,,,value","game_end-lose":"'addProgressionEvent','Fail',level_id,,,value","mission_success":"'addDesignEvent',name","ad_rewarded_request":"'addDesignEvent',name:screen","ad_rewarded_response":"'addDesignEvent',name:screen:ad_response","ad_rewarded_show":"'addDesignEvent',name:screen","ad_rewarded_finish":"'addDesignEvent',name:screen:ad_result,value","ad_mandatory_request":"'addDesignEvent',name:screen","ad_mandatory_response":"'addDesignEvent',name:screen:ad_response","ad_mandatory_show":"'addDesignEvent',name:screen","ad_mandatory_finish":"'addDesignEvent',name:screen:ad_result,value","coin_spent":"'addResourceEvent','Sink','coin',value,'unknown','consumed'","play_with_friend":"'addDesignEvent',name:screen,1","share,invite":"'addDesignEvent',name:button_placement,1","crosspromotion":"'addDesignEvent',name:screen","cross_promotion_show":"'addDesignEvent',name:button_placement,1","cross_promotion_success":"'addDesignEvent',name:target_game,1","engage":"'addDesignEvent',name:engage_id","iap_interaction":"'addDesignEvent',name:iap_id,value","iap_completed":"'addDesignEvent',name:iap_id,value","iap_failed":"'addDesignEvent',name:iap_id,value","tutorial_step_completed":"'addDesignEvent',name:value","options_change":"'addDesignEvent',option_name:option_value","social_engage":"'addDesignEvent','engage':engage_id:button_placement,1"}};
;
		;(function () {
  // Implicit exports here:
  //
  // window.getNewCanvasObject = function()
  // window.releaseCanvas = function(canvas)
  // window.getJSGImageWrapper = function (path, actions, cords, drawCallback)
  // window.embeddedFiles = {};
  // window.embedFiles = function(files,data)
  // window.embeddedAssets = {};
  // window.loadAssets = function(files, svgCommands, data)
  //
  var relasedCanvasElements = []

  window.getNewCanvasObject = function(){
    var cachedElement = relasedCanvasElements.pop();
    if(cachedElement) return cachedElement;
    return document.createElement('canvas')
  }
  window.releaseCanvas = function(canvas){
    canvas.getContext('2d').setTransform(1, 0, 0, 1, 0, 0);
    canvas.width = canvas.height = 1
    relasedCanvasElements.push(canvas)
  }

  function buildCharIndex(chars) {
    var index = {};
    for(var i = 0; i < chars.length; i++) index[chars[i]] = i;
    return index;
  }

  var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/!#$&*-,.:;@()<=>?[]^`{|}";
  var charIndex = buildCharIndex(chars);
  var intChars = "()<=>?[]^`{|}";
  var intCharIndex = buildCharIndex(intChars);

  window.getJSGImageWrapper = function getJSGImageWrapper(path, actions, cords, drawCallback) {

    function getCord() {
      var first = cords[cordOffset++];
      var res, intChar;
      switch(first) {
      case '_': res = 0; break;
      case '~': res = 1; break;
      case '%': res = 149932; break;
      case '\'': res = -149932; break;
      case '@':
        res =
          charIndex[cords[cordOffset++]]
          + charIndex[cords[cordOffset++]] * 74
          + charIndex[cords[cordOffset++]] * 5476 // (74 * 74)
          + charIndex[cords[cordOffset++]] * 405224; // (74 * 74 * 74)
        res = (res / 100) - 149932;
        break;
      default:
        intChar = intCharIndex[first];
        if(intChar !== undefined) {
          res = intChar * 88 + charIndex[cords[cordOffset++]];
        } else {
          res =
            charIndex[first]
            + charIndex[cords[cordOffset++]] * 74
            + charIndex[cords[cordOffset++]] * 5476; // (74 * 74)
          res = (res / 100) - 2026;
        }
      }
      return res;
    }
    function getColor() {
      return getCord()
        ? 'rgb(' + getCord() + ',' + getCord() + ',' + getCord() + ')'
        : 'rgba(' + getCord() + ',' + getCord() + ',' + getCord() + ',' + getCord() + ')';
    }
    function toCanvas(canvas, scale) {
      canvas.width = Math.ceil(assetWidth * scale);
      canvas.height = Math.ceil(assetHeight * scale);
      var ctx = canvas.getContext('2d');
      ctx.scale(scale, scale);
      var canvasStack = [canvas];
      var fillObject;
      try {
        for(var a = 0; a < actions.length; a++) {
          switch(actions[a]) {
          case '4':
            var newCanvas = getNewCanvasObject();
            newCanvas.width = getCord();
            newCanvas.height = getCord();
            ctx = newCanvas.getContext('2d');
            canvasStack.push(newCanvas);
            break;
          case 'b':
            var pattern = ctx.createPattern(ctx.canvas, 'no-repeat');
            var removed = canvasStack.pop();
            releaseCanvas(removed);
            ctx = canvasStack[canvasStack.length - 1].getContext('2d');
            ctx.fillStyle = pattern;
            break;
          case 't': fillObject = ctx.createLinearGradient(getCord(), getCord(), getCord(), getCord()); break;
          case 'D': fillObject = ctx.createRadialGradient(getCord(), getCord(), getCord(), getCord(), getCord(), getCord()); break;
          case '8': fillObject.addColorStop(getCord(), getColor()); break;
          case 'F': ctx.fillStyle = fillObject; break;
          case 'f': ctx.save(); break;
          case '/': ctx.bezierCurveTo(getCord(), getCord(), getCord(), getCord(), getCord(), getCord()); break;
          case 'p': ctx.strokeStyle = getColor(); break;
          case 'w': ctx.lineCap = 'butt'; break;
          case 'y': ctx.lineJoin = 'miter'; break;
          case '9': ctx.miterLimit = getCord(); break;
          case '6': ctx.fillStyle = getColor(); break;
          case 'n': ctx.beginPath(); break;
          case 'q': ctx.closePath(); break;
          case 'o': ctx.fill(); break;
          case 'P': ctx.stroke(); break;
          case 'r': ctx.restore(); break;
          case '2': ctx.arc(getCord(), getCord(), getCord(), getCord(), getCord(), getCord() === 1); break;
          case 'm': ctx.moveTo(getCord(),getCord()); break;
          case 'l': ctx.lineTo(getCord(),getCord()); break;
          case '5': ctx.quadraticCurveTo(getCord(), getCord(), getCord(), getCord()); break;
          case 'C': ctx.clip(); break;
          case 'E': ctx.lineWidth = getCord(); break;
          case 'A': ctx.transform(getCord(), getCord(), getCord(), getCord(), getCord(), getCord()); break;
          case 'u': ctx.translate(getCord(), getCord()); break;
          case 'V': ctx.scale(getCord(), getCord()); break;
          case '0': ctx.rotate(getCord()); break;
          case 'K': ctx.globalAlpha = getCord(); break;
          case 'G': ctx.strokeStyle = fillObject; break;
          default: console.error('unhandled', actions[a]);
          }
        }
      } catch(err) {
        window.onerror && window.onerror('Draw failure in > ' + path + ' ' + err.message, err.sourceURL, err.line);
      }
      // Reset JSG drawing
      cordOffset = 0;
      getCord();
      getCord();
      return canvas;
    }

    function handleDraw(config) {
      config = config || {};
      var scale = config.scale || 1;
      var forceCanvas = config.forceCanvas || false;
      //var instantDraw = config.instantDraw || false; // Check if we need this
      var jsgImage;
      function handleCallback() {
        jsgImage.onload = null;
        jsgImage.onerror = null;
        drawCallback && drawCallback()
        drawCallback = null;
      }
      function loadNext() {
        var jsgCanvas = toCanvas(getNewCanvasObject(), scale);
        if(typeof drawCallback === 'function') {
          jsgImage.onload = handleCallback;
          jsgImage.onerror = handleCallback;
        }
        jsgImage.src = jsgCanvas.toDataURL(); // TODO: Investigate performance impact here
        releaseCanvas(jsgCanvas);
      }
      if(Host.dataUrlsSupported && !forceCanvas) {
        jsgImage = new Image();
        loadNext();
        return jsgImage;
      } else {
        var jsgCanvas = toCanvas(getNewCanvasObject(), scale);
        jsgCanvas.isCanvas = true;
        drawCallback && drawCallback()
        drawCallback = null
        return jsgCanvas;
      }
    }

    var cordOffset = 0;
    var assetWidth = getCord();
    var assetHeight = getCord();
    var jsgWrapper = {
      isJSG: true,
      path: path,
      width: assetWidth,
      height: assetHeight,
      actions: actions,
      cords: cords,
      draw: handleDraw
    };

    return jsgWrapper;
  };

  // Embed general data - this is used by builder.rb's embed_data_content
  //   files: Array of filenames
  //   data : Array of data that mapes to filenames
  window.embeddedFiles = {};
  window.embedFiles = function(files,data) {
    for( var a=0;a<files.length;a++){
      var d = data[a]
      window.embeddedFiles[files[a]] = d;
    }
  }

  // Embed image data.  A mapping of
  // {string} logical asset path => {string} png-base64-data |
  //                                {array[2]} svg-commands-and-data
  window.embeddedAssets = {};

  // Only legacy builder.rb uses this.  The new build system builds
  // embeddedAssets directly.
  window.loadAssets = function(files, svgCommands, data){
    for( var a=0;a<files.length;a++){
      var path = files[a]
      var svgCmds = svgCommands[a];
      if(svgCmds){
        window.embeddedAssets[path] = [svgCmds,data[a]];
      }else{
        window.embeddedAssets[path] = data[a];
      }
    }
  }
})()
;
		;(function () {
  // implicit exports here:
  //
  //  window.htmlclean
  //  window.htmlprogress,
  //  window.__FRVR.platformSpecificProgress
  //  window.__FRVR.platformSpecificCleanup
  //
  var completed = 0;

  window.htmlprogress = function(total, left){
    completed = Math.max((left / total), completed)
  }

  var preview = 0;

  var timer = setInterval(function(){
    if(completed < .5){
      completed += (.5-completed)/100
    }
    preview += (completed-preview)/10
    window.__FRVR.platformSpecificProgress &&
      window.__FRVR.platformSpecificProgress(preview);
  },50)

  setTimeout(function(){
    loadbar&&(loadbar.style.display = "block")
  },500)

  window.htmlclean = function() {
    window.__FRVR.gameIsLoaded = true;

    // Remove the preloader
    if(preloader){
      preloader.parentNode&&preloader.parentNode.removeChild(preloader)
    }

    // Stop the progress bar timer
    clearInterval(timer)

    window.__FRVR.platformSpecificCleanup &&
      window.__FRVR.platformSpecificCleanup();
  }
})()
;
		;// TODO: put some build-time conditionals here?
var canvas, loadbar, progressbar, logoOptions = {forceCanvas: true};
if(!window.FBInstant && !window.GSInstant) {
  var logoA="6nmllllllllllmlllllllllllm/l//llll/lmlll/m/l//llll/lmlll/o6nm/l2mo6nm//l22mot88Fnm//l//mo6nm/lll/mot88Fnm/l//o6nm/ll/lmo6nm/o"
  var logoC="|q|T~(a(a(a_^L_|P(5|P(5{F)>{F)>`o(5`o(5^!<W^!<W^K_^L]&^K[`{g[^{g[N^K?n^K?o^L?n^L[z|P]c|P^o^L^o^K]&^K?Z{x?E{8>@{3>4{l>h{L>``}?O`-?S`N?V](=5^N<-^L<-|P=n|P=n{P=2{P>D{7>x|v?f|I?Z{x>L`x=n`x=n^!>K^!>6^+>6`z>L`x|k{x|P{8{{{3{&{l{s{L|H`}|Y`-|d`N|g](`*^N^?^L^?|P`y|P`y{P`!{P{O{7{7|v|q|I|k{x{V`x`y`x`y^!{V^!{-^+{-`z{V`x~<><X_|o=i|o?h`+[|]![$|D)-^HEkq=hM;k+;k_[/<t~<>)+(D[+<u]2)T`2),`6=i`6=6`1=]`q>O|E),uCzx7p<1P;kE;k~,!x:nq=oE;k/.k~[/<t`T[$?U<tmAl~<>)+(DEBl~<O(j(T`j>Y^??A]=?T]M>9[9>f[o=;[K=i?D>|?X?m?.?[?.?[[d[i[<[4]#[$[/<t~<>_(p[/<u?p>N>/[4<N[I=^=i?D).?M)4?@(w]GY8k^g~[/<t<j(![X=icAl~)&_<>6Al~)I(i)9?E).>4)Z>I(<=o(!)`<[<U<m<<<Y=e<1=1<-=*=L=`=i~)&_<>=2=><<>^)f=|){<=)^<[(v?B([?v)t?^<O[I=2=>[/<t~_<N<>=p(!)B(Ucmj=A(w?C"
  var darkMode = location.search.indexOf("theme=light") == -1 && (
    location.search.indexOf("theme=dark") != -1 || (
      window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
    ))
  if (darkMode && preloader.classList && preloader.classList.add) {
    preloader.classList.add('dark')
    logoC=logoC.replace("(a(a(a", "<><><>")
  }
  canvas = getJSGImageWrapper('logo',logoA, logoC).draw(logoOptions);
  loadbar = document.createElement('loadbar');
  progressbar = document.createElement('div');
  preloader.appendChild(loadbar);
  loadbar.appendChild(progressbar);
  // preloader.appendChild(canvas);
}

var ow = 0
var oh = 0
function handleResize(){
  // FIXME: A noop on FBInstant and GSInstant, so we should
  // rework this so we just don't call it just don't call it
  // in those scenarios
  if(!!!window.FBInstant && !window.GSInstant){
    var w = document.documentElement.clientWidth;
    var h = Math.min(window.innerHeight,document.documentElement.clientHeight);
    if(ow!=w||oh!=h){
      ow = w;oh = h;
      var s = Math.min(w,h)*.6>>0
      var nh = s*0.978260869>>0
      var t = ((h-nh*1.15)/2>>0)

      loadbar.style.width = canvas.style.width = s+"px"
      canvas.style.height = nh +"px"
      loadbar.style.left = canvas.style.left = ((w-s)/2>>0)+"px"
      canvas.style.top = t+"px"
      loadbar.style.height = ((s/40)>>0)+ "px"
      loadbar.style.top = (t + nh*1.15)+"px"
    }
  }
}
handleResize()

window.__FRVR.platformSpecificProgress = function (preview) {
  progressbar&&(progressbar.style.width = (preview*100>>0) + "%")
  handleResize();
}

window.__FRVR.platformSpecificCleanup = function () {
  // Dealloc the canvas
  if(canvas){
    canvas.width = canvas.height = 1
  }

  // Garbage collection
  loadbar = progressbar = canvas = preloader = null;
}
;

		;(function () {
  var req = new XMLHttpRequest();
  req.addEventListener('load', function(event){
    var s = document.createElement("script");
    //s.text rather than innerHTML for ie9
    s.text = event.target.responseText;
    document.documentElement.appendChild(s);
  })

  req.addEventListener("progress", function(event) {
    if (event.lengthComputable) {
      window.htmlprogress(event.total, event.loaded*.7)
    } else {
      window.htmlprogress(window.extsize||500000, event.loaded)
    }
  }, false);

  if(window.spath !== undefined){
    req.open("GET", spath);
    req.send()
  }
})()
;
		</script>

		<canvas id="gameCanvas"></canvas>
		<script>
			var cs = document.getElementById('gameCanvas').style;
			cs.width = cs.height = "100%"
		</script>

		<div id="overlay"></div>

		<content itemscope="" itemtype="--https--schema.org/VideoGame">
  <h1 itemprop="name">Stack Three FRVR</h1>
  <meta itemprop="url" content="--https--stackthree.frvr.com/">
  <div itemprop="author" itemscope itemtype="http://schema.org/Organization">
    <p style="margin-top:0px"><span itemprop="name"><a itemprop="url" href="http://frvr.com/">By FRVR</a></span></p>
  </div>

  <metadata>
    <!--<img itemprop="image" src="" data-original="./v/1616566216083/i/web/icon196x196.png"/>-->
    <meta itemprop="playMode" content="SinglePlayer">
    <p>Genre: <span itemprop="genre"></span></p>
    <div itemscope itemtype="http://schema.org/AggregateRating" itemprop="aggregateRating">
      <div>Average Rating: <b itemprop="ratingValue">4.8</b>/<b itemprop="bestRating">5</b></div>
      <meta itemprop="reviewCount" content="9427">
    </div>
    <link itemprop="applicationCategory" content="Game">
    <link itemprop="applicationSubCategory" content="Board, Puzzle">
    <span itemprop="offers" itemscope="" itemtype="http://schema.org/Offer">
      <meta itemprop="price" content="$0">
      <meta itemprop="priceCurrency" content="USD">
      <link itemprop="availability" href="http://schema.org/InStock">
    </span>
    <meta itemprop="contentRating" content="Everyone">
    <meta itemprop="playMode" content="SinglePlayer">
  </metadata>

  <p>You're surrounded by friendly faces but if you're not quick to organize the steady stream of happy heads entering the playing field, you'll find the game has ended as quickly as it began.</p>
<p>The goal? Match three colors across or down to clear space on the board and keep racking up points.</p>
<p>It's deceptively simple - or is it? There are fresh challenges as well as bonus options built into this puzzle game.</p>
<p>StackThree works in several directions, and as long as you have a sharp eye and quick hand, you'll keep the board clear enough to accommodate what's incoming. If you haven't placed the pieces before they reach the right side of the screen, they'll start filling the board randomly.</p>
<p>A bright and happy sound track keeps you focused.</p>
<p>Features</p>
<ul>
<li>Upbeat original soundtrack</li>
<li>Colorful, pleasant graphics</li>
<li>Smiles galore</li>
<li>Endless hours of fun</li>
<li>Works great on any mobile device with full iOS, Android and Windows Phone support</li>
<li>No need to install anything, works without Flash or Java</li>
</ul>
  <p><a href=".">Please enable JavaScript to play now!</a></p>

  <h2>More information</h2>
  <ul>
<!--    <li><a href="//frvr.com/">FRVR Website</a></li>-->
<!--    <li><a href="http://news.frvr.com">FRVR News</a></li>-->
<!--    <li><a href="//twitter.com/frvrgames">FRVR on Twitter</a></li>-->
<!--    <li><a href="//www.facebook.com/frvrgames">FRVR on Facebook</a></li>-->
<!--    <li><a href="//plus.google.com/+Frvrgames">FRVR on Google+</a></li>-->
  </ul>
  <h2>More great games</h2>
  <ul>

  </ul>
  <h2>More platforms</h2>
  <ul>

  </ul>

<!--  <p><a href="//frvr.com/">Always get the greatest new games on frvr.com</a></p>-->
</content>

		<script>
		  ;function parseStack(err) {
  var stack = [];
  var lines = (err && err.stack || '').split('\n'); // split stack trace into lines
  lines.shift(); // remove first line, the error message
  for(var i = 0; i < lines.length; i++) {
    // simplyfy and shorten details
    stack.push(lines[i]
      .replace(/^\s*at\s+/g, '')
      .replace(/(https?:\/\/[^\/]+)?/g, '')
      .replace(/https?:\/\/[^\/]+/g, '')
      .replace(/\/?game\/[^\/]+\/[^\/]+/g, '')
      .replace(/:?<anonymous>:?/g, '')
      .replace(/^([^ ]+)\s+\(/g, '$1(')
      .replace(/^([0-9]+:[0-9]+$)/g, '($1)')
    );
  }
  return stack;
}
function createErrorHandler(errorType) {
  return function(errorMsg, sourceURL, line, column, err) {
    if(sourceURL instanceof Error) { // Enable optional parameters
      err = sourceURL;
      sourceURL = undefined;
    }
    err = err || new Error(errorMsg);
    var parts = ((err.stack || '').split('\n')[1] || '').split(':');
    var colFromStack = parts.pop() || undefined;
    var lineFromStack = parts.pop() || undefined;
    line = line || err.lineNumber || err.lineno || err.line || lineFromStack || '';
    column = column || err.columnNumber || err.colno || err.column || colFromStack || '';
    sourceURL = sourceURL || err.sourceURL || '';
    errorMsg = errorMsg || err.message || (err.toString && err.toString()) || '';
    var parsedStack = parseStack(err) || [];
    var errSrc = sourceURL + ': ' + line + ': ' + column;
    window.Host && Host.Log && Host.Log(errorType + ' Error: ' + errorMsg + ': ' + errSrc + '\nStack: ' + parsedStack.join('\n'));
    console.error(errorType + ' Error', errorMsg + ': ' + errSrc, err);
    errSrc += ': ' + parsedStack.join('|').substr(0, 150);
    var eventCategory = 'stackthree 1.3.10 74 ' + errorType + ' Error';
    var errTime = Date.now() - ((window && window.__FRVR && window.__FRVR.startTime) || 0);
    if(window.gax) {
      gax('send', 'event', eventCategory, errorMsg, errSrc, errTime);
      gax('send', 'exception', {exDescription: eventCategory + ': ' + errorMsg + ': ' + errSrc});
    }
    if(typeof FBInstant !== 'undefined' && typeof FBInstant.logEvent === 'function') {
      FBInstant.logEvent('onerror', errTime, {
        appName: 'stackthree',
        appVersion: '1.3.10',
        appBuild: '74',
        category: eventCategory,
        message: errorMsg,
        stack: errSrc
      });
    }
  };
}
window.onerror = createErrorHandler('JavaScript');
var promiseErrorHandler = createErrorHandler('Promise');
window.onunhandledrejection = function(rejection) {
  var err = (rejection && rejection.reason) || {};
  promiseErrorHandler(undefined, undefined, undefined, undefined, err);
};
;
			;var _gaCookie = document.cookie.match('_ga=([^;]*)');
window._xsTrackGlobalUserIdOverride = !!_gaCookie && _gaCookie.length > 1 ? _gaCookie[1].split('.').reverse().slice(0,2).reverse().join('.') : null;

window.gaAppInfo = {
  appId: 'com.frvr.stackthree',
  appName: 'stackthree',
  appVersion: '1.3.10',
};
window.initGoogle = function(){
  ga('set', window.gaAppInfo);
  ga('create', 'UA-54081731-1', 'auto', window.gaAppInfo);

  ga('create', 'UA-54081731-22', 'auto', 'game', window.gaAppInfo);

  gax('require', 'displayfeatures');
  gax('send', 'pageview', gaPath + location.search);
  // Record native-ish "Promise" support
  var eventCategory = 'stackthree 1.3.10 74 Promise Support';
  //gax('send', 'event', eventCategory, (typeof Promise === 'function') ? 'supported' : 'unsupported');
}
;
			;(function () {
  // the standard google analytics script
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();;a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','--https--www.google-analytics.com/analytics.js','ga');

  window.gax=function() {
    ga.apply(this,arguments)

    a = arguments; a[0] = "game."+a[0]
    ga.apply(this,a);

  }
})()
;
			;(function () {
  ga(function() {
    setTimeout(function(){
      if (!window.keepurl && !(window.XS && XS.is.oppoGlobal)) {
        window.location.hash = ""
        if (window.history &&
            window.history.replaceState instanceof Function
           ) {
          window.history.replaceState({}, document.title,'./');
        }
      }
    },5000)
  })})()
;
		</script>

	<script>
	 ;(function() {
	function Scitylana(tracker, config) {
		var sciUAs = [], uasInited = false;
		var reAmp = /^&|&$/ig, reTid = /&tid=([^&]+)&/;
		var orgSendHitTask = tracker.get('sendHitTask');

		function sciData(tracker) {
			var time = (new Date).getTime();
			var _sl_order = window._sl_order;
			if(_sl_order >= time) _sl_order++;
			else _sl_order = time;
			window._sl_order = _sl_order;
			var hasReferrer = !document.referrer ? 0 : 1;
			var userId = tracker.get('userId') || tracker.get('clientId');
			return 'sl=1&u=' + userId + '&t=' + _sl_order + '&r=' + hasReferrer;
		}

		function initUAs() {
			for(var xsIs in config){
				var sciUa = config[xsIs];
				if((xsIs === 'any' || ((typeof XS !== 'undefined') && XS.is[xsIs])) && sciUAs.indexOf(sciUa) === -1) sciUAs.push(sciUa);
			}
			if((typeof XS !== 'undefined') && XS.is) uasInited = true;
		}

		function sendHitTask(model) {
			orgSendHitTask(model);
			if(!uasInited) initUAs();
			var hitPayload = model.get('hitPayload') + '&cd1=' + encodeURIComponent(sciData(tracker));
			for(var i = 0; i < sciUAs.length; i++) {
				model.set('hitPayload', ('&' + hitPayload + '&').replace(reTid, '&tid=' + sciUAs[i] + '&').replace(reAmp, ''), true);
				orgSendHitTask(model);
			}
		}

		tracker.set('sendHitTask', sendHitTask);
	}
	var _jsonData = window._jsonData || {};
	if(_jsonData.scitylana) {
		ga('provide', 'scitylana', Scitylana);
		ga('require', 'scitylana', _jsonData.scitylana);
	}
})();
;
	 window.initGoogle();
	</script>
	</body>
</html>
